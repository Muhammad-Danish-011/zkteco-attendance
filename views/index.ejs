<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ZKTeco Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background: #f7f9fc; }
        .card { border-radius: 12px; }
        h3 { margin-top: 30px; }
        table { background: white; }
        th { background: #f0f2f5; }
    </style>
</head>

<body class="container py-4">

    <h1 class="text-center mb-4">ZKTeco Device Dashboard</h1>

    <!-- DEVICE INFO -->
    <div class="card shadow p-3 mb-4">
        <h3>ðŸ“Ÿ Device Info</h3>
        <table class="table table-bordered mt-3">
            <tr>
                <th>User Count</th>
                <td><%= info?.userCounts %></td>
            </tr>
            <tr>
                <th>Log Count</th>
                <td><%= info?.logCounts %></td>
            </tr>
            <tr>
                <th>Log Capacity</th>
                <td><%= info?.logCapacity %></td>
            </tr>
        </table>
    </div>

    <!-- ALL USERS -->
    <div class="card shadow p-3 mb-4">
        <h3>ðŸ‘¥ All Users</h3>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>UID</th>
                    <th>UserID</th>
                    <th>Name</th>
                    <th>Role</th>
                    <th>Card No</th>
                </tr>
            </thead>

            <tbody>
                <% allUsers.forEach(user => { %>
                    <tr>
                        <td><%= user.uid %></td>
                        <td><%= user.userId %></td>
                        <td><%= user.name %></td>
                        <td><%= user.role === 14 ? "Admin" : "User" %></td>
                        <td><%= user.cardno %></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>

    <!-- ADMIN USERS -->
    <div class="card shadow p-3 mb-4">
        <h3>ðŸ›¡ Admin Users</h3>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>UID</th>
                    <th>UserID</th>
                    <th>Name</th>
                    <th>Role</th>
                    <th>Card No</th>
                </tr>
            </thead>

            <tbody>
                <% adminUsers.forEach(admin => { %>
                    <tr>
                        <td><%= admin.uid %></td>
                        <td><%= admin.userId %></td>
                        <td><%= admin.name %></td>
                        <td><%= admin.role %></td>
                        <td><%= admin.cardno %></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>



    <!-- ATTENDANCE LOGS -->
<div class="card shadow p-3 mb-4">
    <h3>ðŸ•’ Attendance Logs</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>User SN</th>
                <th>Device User ID</th>
                <th>Record Time</th>
                <th>IP Address</th>
            </tr>
        </thead>

        <tbody>
            <% attendanceLogs.forEach(log => { %>
                <tr>
                    <td><%= log.userSn %></td>
                    <td><%= log.deviceUserId %></td>
                    <td><%= new Date(log.recordTime).toLocaleString() %></td>
                    <td><%= log.ip %></td>
                </tr>
            <% }) %>
        </tbody>
    </table>
</div>


</body>
</html>
